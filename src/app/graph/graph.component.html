<div class="cotainer">
  <mat-toolbar style="display: flex; justify-content: space-between; margin-top: -100px;">
    <div style="text-align: center;">
      <a routerLink="/"><span style="font-size: 33px; font-weight: bolder;">FACEMASH</span></a>
    </div>
    <div style="display: flex;">
      <img [src]="avatar_img" width="55px" height="50px" style="border-radius: 50%; border: black; margin-right: 10px;">
      <span style="color:white; margin: 10px;">{{ email }}:{{ name }}</span>
      <button routerLinkActive="active-link" routerLink="/" class="Btn">
        <div class="sign"><svg viewBox="0 0 512 512">
            <path
              d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z">
            </path>
          </svg></div>
        <div class="text">Logout</div>
      </button>
    </div>
  </mat-toolbar>
</div>

<div class="container" style="margin-top: 100px;">
  <button class="btn" type="button" style="width: 100%">
    <strong>
      <div style="display: flex; justify-content: space-around; font-size: 20px;">
        <a routerLink="/posts" style="padding: 0 60px;"> <span>HOME</span> </a>
        <a routerLink="/topten" style="padding: 0 60px;"> <span>TOP10</span> </a>
        <a routerLink="/graph" style="padding: 0 60px;"><span
            style="color: brown; font-weight: bolder;">üèÜ LEADERBOARD</span></a>
        <a routerLink="/main" style="padding: 0 60px;"><span style="margin-top: -10px;">SETTING</span> </a>
      </div>
    </strong>
    <div id="container-stars">
      <div id="stars"></div>
    </div>

    <div id="glow">
      <div class="circle"></div>
      <div class="circle"></div>
    </div>
  </button>

  <div class="leaderboard-container" style="margin-top: 50px;">
    <div class="leaderboard-header">
      <h1 style="text-align: center; color: #ffd700; font-size: 2.5em; margin-bottom: 20px;">
        üèÜ Leaderboard - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°/Week
      </h1>
      <p style="text-align: center; color: #ccc; font-size: 1.2em; margin-bottom: 30px;">
        ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏†‡∏≤‡∏û‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå
      </p>
    </div>

    <div class="leaderboard-table" style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 20px; backdrop-filter: blur(10px);">
      <table mat-table [dataSource]="weeklyRankings" class="leaderboard-table">
        
        <!-- Rank Column -->
        <ng-container matColumnDef="rank">
          <th mat-header-cell *matHeaderCellDef style="color: #ffd700; font-weight: bold; font-size: 1.2em;">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th>
          <td mat-cell *matCellDef="let element" style="text-align: center; font-weight: bold; font-size: 1.1em;">
            <span [ngClass]="{
              'gold': element.rank === 1,
              'silver': element.rank === 2,
              'bronze': element.rank === 3,
              'normal': element.rank > 3
            }">
              {{ element.rank === 1 ? 'ü•á' : element.rank === 2 ? 'ü•à' : element.rank === 3 ? 'ü•â' : element.rank }}
            </span>
          </td>
        </ng-container>

        <!-- Image Column -->
        <ng-container matColumnDef="image">
          <th mat-header-cell *matHeaderCellDef style="color: #ffd700; font-weight: bold; font-size: 1.2em;">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</th>
          <td mat-cell *matCellDef="let element" style="text-align: center;">
            <img [src]="element.image" alt="User Image" 
                 style="width: 80px; height: 80px; border-radius: 10px; object-fit: cover; border: 2px solid #ffd700;">
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef style="color: #ffd700; font-weight: bold; font-size: 1.2em;">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
          <td mat-cell *matCellDef="let element" style="font-weight: bold; font-size: 1.1em;">
            {{ element.name }}
          </td>
        </ng-container>

        <!-- Points Column -->
        <ng-container matColumnDef="points">
          <th mat-header-cell *matHeaderCellDef style="color: #ffd700; font-weight: bold; font-size: 1.2em;">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th>
          <td mat-cell *matCellDef="let element" style="text-align: center; font-weight: bold; font-size: 1.1em;">
            <span style="color: #00ff88;">{{ element.points }}</span>
          </td>
        </ng-container>

        <!-- Change Column -->
        <ng-container matColumnDef="change">
          <th mat-header-cell *matHeaderCellDef style="color: #ffd700; font-weight: bold; font-size: 1.2em;">‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</th>
          <td mat-cell *matCellDef="let element" style="text-align: center; font-weight: bold;">
            <span [style.color]="getChangeColor(element.change)">
              {{ element.change }}
            </span>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
            [ngClass]="{
              'gold-row': row.rank === 1,
              'silver-row': row.rank === 2,
              'bronze-row': row.rank === 3,
              'normal-row': row.rank > 3
            }"></tr>
      </table>
    </div>

    <div *ngIf="weeklyRankings.length === 0" style="text-align: center; margin-top: 50px;">
      <div style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 40px; backdrop-filter: blur(10px);">
        <h2 style="color: #ccc;">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Leaderboard</h2>
        <p style="color: #999;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ</p>
      </div>
    </div>
  </div>
</div>